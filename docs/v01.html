<html>
<head>
<title>Haofei(Eric) INF1339 Project 2 Iteration 3 </title>
  <style>
      .output {color: blue;}
  </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
    <script>
        //Store data in 'global' variables know to all functions
        var url = "https://api.nytimes.com/svc/search/v2/articlesearch.json?q=rainbow&api-key=HSofGADKzpPOUuqvRMDMUB33qvcAXxle";
        var articleCount = 0
        
        //Setup is a standard way P5 starts a script
        function setup(){
        //P5 usually used for drawing    
               noCanvas();
        //SEND the URL and when the data comes back, run the function "gotData" 
                loadJSON(url, gotData);
        }
        
        //gotDATA for now just announces itself 
        function gotData(data) {
            var text =''
            for (i=0; i < data.response.docs.length; i++) {
                    text = text + '<br />' + data.response.docs[i].headline.main
            }
            document.getElementById("test_output").innerHTML = text
        }
    </script>

<head>
<body>
    <h1> New York Times API: Articles from all time about rainbows </h1>
    <p id= "test_output" class="output"></p>
</body>
</html>